<!doctype html>
<html lang="en">
    <head>
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="{{ url_for('static', filename='coffeebuddy.css') }}">
        <script>
         $(() => {
             const timeout = 5;
             setTimeout(() => {
                 $.post(window.location, data={"coffee": ""});
                 window.location.href = '../';
             }, timeout * 1000);
             setInterval(() => {
                 var width = $("#timeout-bar").width() / $("#timeout-bar").parent().width() * 100;
                 $("#timeout-bar").css("width", width - 100 * 10 / (timeout * 1000) + "%");
             }, 10);
         });
        </script>
        <style>
         #timeout-bar-container {
             width: 400px;
             align-self: center;
         }

         #timeout-bar {
             width: 100%;
             height: 10px;
             border-radius: 3px;
             background: var(--color-engineering-dark);
         }
        </style>
    </head>
    <body>
        <div class="text-left m-5">
            <h1 id="user-name">{{ user.prename }} {{ user.name }}</h1>
            <code class="h5">{{ hexstr(user.tag) }}</code>
        </div>
        <div class="d-flex flex-column text-center h-100">
            <form method="post">
                <button class="p-3" type="submit" name="">
                    <div id="btn-coffee-icon" class="display-1 fas fa-undo-alt"></div>
                    <div id="btn-coffee-text" class="h3">Undo</div>
                </button>
            </form>
            <div id="timeout-bar-container" class="p-3">
                <div id="timeout-bar"></div>
            </div>
        </div>
    </body>
</html>
